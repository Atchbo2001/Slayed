<!doctype html>
<html lang="{{ request.locale.iso_code }}">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">

    <link rel="preconnect" href="https://cdn.shopify.com" crossorigin>
    <link rel="preload" href="{{ 'base.css' | asset_url }}" as="style">
    <link rel="preload" href="{{ 'bundle.js' | asset_url }}" as="script">

    <title>{{ page_title | escape }}</title>

    {% if page_description %}
      <meta name="description" content="{{ page_description | escape }}">
    {% endif %}

    {{ 'base.css' | asset_url | stylesheet_tag }}
    {{ 'header.css' | asset_url | stylesheet_tag }}
    
    <!-- {% section 'component-minicart' %} -->
    {{ 'component-minicart.css' | asset_url | stylesheet_tag }}

    <!-- header hook for Shopify plugins -->
    {{ content_for_header }}
  </head>

  <body>
    <div {% unless request.page_type == 'captcha' %}id="app"{% endunless %} class="flex">
      {% section 'header' %}

      <ul>
        <template x-data x-for="[key, value] in Object.entries($store.cart.items)">
          <li>
            Variant ID: <span x-html="value.variant_id"></span>
            Quantity: <span x-html="value.quantity"></span>
          </li>
        </template>
      </ul>

      <div class="test-1" x-data>
        <button @click="$store.cart.add({'id':40161362182320,'quantity':1})">
          Add some item to cart
        </button>
      </div>

      <button type="button" x-data @click="$store.cart.clear()">
        Clear Cart
      </button>

      <main id="main" role="main">
        {{ content_for_layout }}
      </main>

      {% section 'footer' %}
    </div>

    <!-- webpack bundle -->
    <script src="{{ 'bundle.js' | asset_url }}" defer="defer"></script>
  </body>
</html>